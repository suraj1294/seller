(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[4],{1417:function(e,t,a){"use strict";var n=a(55),r=a.n(n),i=a(36),l=a(96),o="[E-COMMERCE APP] GET PRODUCTS",c="[E-COMMERCE APP] SET PRODUCTS SEARCH TEXT";function s(e){var t;return t=r.a.get(l.a+"/product?createdBy="+e),function(e){return t.then((function(t){e({type:o,payload:t.data})}))}}function u(e,t){var a=r.a.post(l.a+"/product/updatestatus",e);return function(e){a.then((function(a){e(Object(i.B)({message:"Status Updated"})),e(s(t))}))}}function d(e,t){var a=r.a.post(l.a+"/product/updateapprove",e);return function(e){a.then((function(a){e(Object(i.B)({message:"Status Updated"})),e(s(t))}))}}function m(e){return{type:c,searchText:e.target.value}}var p=a(10),f="[E-COMMERCE APP] GET PRODUCT",h="[E-COMMERCE APP] SAVE PRODUCT",g="[E-COMMERCE APP] GET CATS";function v(e){var t=e.productId,a=r.a.get(l.a+"/product/"+t);return function(e){return a.then((function(t){e({type:f,payload:t.data[0]})}))}}function b(e){var t=r.a.get(l.a+"/productcategory?listingType="+e);return function(e){return t.then((function(t){var a=t.data.map((function(e){return{value:e.name,label:e.name}}));e({type:g,payload:a})}))}}function y(e){var t=r.a.post(l.a+"/product/create",e);return function(e){return t.then((function(t){return e(Object(i.B)({message:"Product Saved"})),e(function(e){var t=r.a.post(l.a+"/dashboard/create",{productId:e._id,productOwnerId:e.createdBy,analytic:"PRODUCT_ADDED"});return function(e){return t.then((function(t){return e({type:"TES-TST",payload:t.data})}))}}(t.data)),e({type:h,payload:t.data})}))}}function E(e){var t=r.a.put(l.a+"/product/"+e._id,e);return function(e){return t.then((function(t){return e(Object(i.B)({message:"Product Saved"})),e({type:h,payload:t.data})}))}}function O(e){var t={id:p.v.generateGUID(),uuid:e,name:"",handle:"",description:"",categories:[],tags:[],images:[],price:"",listingType:"service",starRating:0,discount:5,quantity:0,sku:"",width:"",height:"",depth:"",weight:"",status:1};return{type:f,payload:t}}var C="[E-COMMERCE APP] GET CATEGORIES",P="[E-COMMERCE APP] SET CATEGORIES SEARCH TEXT";var S="[E-COMMERCE APP] GET CATEGORY",T="[E-COMMERCE APP] SAVE CATEGORY";a.d(t,"f",(function(){return o})),a.d(t,"j",(function(){return c})),a.d(t,"a",(function(){return"[E-COMMERCE APP] SET PRODUCTS SEARCH TEXT"})),a.d(t,"o",(function(){return s})),a.d(t,"k",(function(){return u})),a.d(t,"l",(function(){return d})),a.d(t,"s",(function(){return m})),a.d(t,"e",(function(){return f})),a.d(t,"h",(function(){return h})),a.d(t,"d",(function(){return g})),a.d(t,"n",(function(){return v})),a.d(t,"m",(function(){return b})),a.d(t,"r",(function(){return y})),a.d(t,"q",(function(){return E})),a.d(t,"p",(function(){return O})),a.d(t,"b",(function(){return C})),a.d(t,"i",(function(){return P})),a.d(t,"c",(function(){return S})),a.d(t,"g",(function(){return T}))},1419:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=n(a(87)),l=n(a(68));var o=function(e,t){var a=function(t){return r.default.createElement(l.default,t,e)};return a.displayName="".concat(t,"Icon"),(a=(0,i.default)(a)).muiName="SvgIcon",a};t.default=o},1420:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(1419)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.default.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"})),"ArrowDownward");t.default=i},1421:function(e,t,a){"use strict";var n=a(17),r=a(9),i=a(1417);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={data:[],searchText:""},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.f:return o({},e,{data:t.payload});case i.j:return o({},e,{searchText:t.searchText});case i.a:return o({},e,{data:t.payload});default:return e}};function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={data:null,categories:null},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.e:case i.h:return d({},e,{data:t.payload});case i.d:return d({},e,{categories:t.payload});default:return e}};function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={data:[],searchText:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.b:return h({},e,{data:t.payload});case i.i:return h({},e,{searchText:t.searchText});default:return e}};function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E={data:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.c:case i.g:return y({},e,{data:t.payload});default:return e}},C=Object(n.d)({products:s,product:p,categories:v,category:O});t.a=C},1432:function(e,t,a){"use strict";var n=a(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(1419)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.default.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"})),"ArrowUpward");t.default=i},1472:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a(9),i=a(11),l=a(12),o=a(15),c=a(14),s=a(16),u=a(0),d=a.n(u),m=a(2),p=a(52),f=a(10),h=a(1432),g=a.n(h),v=a(1420),b=a.n(v),y=a(54),E=a(22),O=a(78),C=a(17),P=a(30),S=a(4),T=a.n(S),j=a(6),w=a(394),F=a(1417),D=a(1421),k=a(177),x=a.n(k),N=a(205),I=a.n(N),A=a(176),R=a.n(A),M=a(174),U=a.n(M),V=a(175),W=a.n(V),L=a(173),q=a.n(L),B=a(200),_=a.n(B),G=a(204),z=a.n(G),H=a(202),X=a.n(H),$=a(203),J=a.n($),Q=a(201),Y=a.n(Q),K=a(396),Z=a(21),ee=a(55),te=a.n(ee),ae=a(96);function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={openTerm:!1,isTermsChecked:!1,file:"",form:{categories:[],listingType:"service"}},a.handleOpenTerm=function(e){e.preventDefault(),a.setState({openTerm:!0})},a.handleCloseTerm=function(){a.setState({openTerm:!1})},a.ConfirmTerms=function(e){a.setState({isTermsChecked:e.target.checked})},a.handleChange=function(e){"listingType"===e.target.name&&a.props.getCats(e.target.value),a.setState({form:j.a.set(re({},a.state.form),e.target.name,e.target.value)})},a.handleChipChange=function(e,t){a.setState({form:j.a.set(re({},a.state.form),t,e.map((function(e){return e.value})))})},a.UploadCSV=function(e){a.setState({isTermsChecked:!1});var t=a.state.file;if(null!==t&&""!==t){var n=new FormData;n.append("file",a.state.file),n.append("listingType",a.state.form.listingType),n.append("categories",a.state.form.categories),n.append("uuid",a.props.user._id),te.a.post(ae.a+"/product/csvimport",n).then((function(e){alert(e.data.message),a.setState({file:"",form:{categories:[],listingType:""},isTermsChecked:!1}),a.props.closeCSV()}))}else alert("Please select csv file")},a.addFile=function(e){e.target.files&&e.target.files[0]&&a.setState({file:e.target.files[0]})},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.isTermsChecked,r=a.form;return d.a.createElement(f.n,{classes:{root:t.layoutRoot},content:d.a.createElement("div",null,d.a.createElement(K.a,{open:this.state.openTerm,onClose:this.handleCloseTerm}),d.a.createElement("div",{className:"p-16 sm:p-24 max-w-2xl",style:{margin:0,textAlign:"center"}},d.a.createElement(U.a,{component:"fieldset"},d.a.createElement(W.a,{component:"legend"},"Listing Type"),d.a.createElement(I.a,{"aria-label":"listing Type",name:"listingType",value:r.listingType,onChange:function(t){return e.handleChange(t)}},d.a.createElement(R.a,{value:"service",control:d.a.createElement(x.a,null),label:"Service"}),d.a.createElement(R.a,{value:"product",control:d.a.createElement(x.a,null),label:"Product"}))),d.a.createElement(f.d,{className:"mt-8 mb-24",value:r.categories.map((function(e,t){return{value:e,label:e}})),onChange:function(t){return e.handleChipChange(t,"categories")},placeholder:"Select multiple categories",textFieldProps:{label:"Categories",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0,options:this.props.product.categories}),d.a.createElement("input",{accept:"csv/*",className:t.input,id:"contained-button-file",multiple:!0,type:"file",hidden:!0,onChange:function(t){e.addFile(t)}}),d.a.createElement("label",{htmlFor:"contained-button-file"},d.a.createElement(q.a,{variant:"contained",component:"span",className:t.button},"Upload")),d.a.createElement(m.fb,{variant:"h6",component:"h6"},this.state.file.name),d.a.createElement("div",{style:{paddingTop:"25px"}},d.a.createElement(m.f,{disableRipple:!0,color:"default",onChange:function(t){e.ConfirmTerms(t)},checked:n}),d.a.createElement("span",{style:{paddingRight:"15px"}}," Please accept ",d.a.createElement(E.a,{to:"",style:{color:"deepSkyBlue"},onClick:function(t){e.handleOpenTerm(t)}},"Terms & Conditions")),d.a.createElement(m.c,{variant:"contained",className:"primary",disabled:!n,onClick:function(){e.UploadCSV()}},"Submit"))))})}}]),t}(u.Component);var le=Object(p.withStyles)((function(e){return{layoutRoot:{}}}),{withTheme:!0})(Object(Z.b)((function(e){var t=e.ProductsApp,a=e.auth;return{product:t.product,user:a.user}}),(function(e){return Object(C.c)({getCats:F.m},e)}))(ie)),oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,scroll:"paper"},a.handleClickOpen=function(e){return function(){a.setState({open:!0,scroll:e})}},a.handleClose=function(){a.setState({open:!1})},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(_.a,{open:this.props.open,onClose:this.props.onClose,scroll:this.state.scroll,fullWidth:!0,maxWidth:"md","aria-labelledby":"scroll-dialog-title"},d.a.createElement(Y.a,{id:"scroll-dialog-title"},"CSV Upload"),d.a.createElement(X.a,null,d.a.createElement(J.a,null,d.a.createElement(le,{closeCSV:function(){return e.props.onClose()}}))),d.a.createElement(z.a,null,d.a.createElement(q.a,{onClick:this.props.onClose,variant:"contained",color:"primary",autoFocus:!0},"Cancel"))))}}]),t}(d.a.Component);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ue=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).state={tabValue:0,form:{images:[],name:"",price:1,categories:[],tags:[],status:1,listingType:"service",discount:5},open:!1,isTermsChecked:!1,openTerm:!1,openCsv:!1},a.updateFormState=function(){a.setState({form:a.props.product.data})},a.addField=function(){var e=Math.round(20*Math.random()),t={id:e,labelField:{fieldType:"text",fieldvalue:""},valueField:{fieldType:"text",fieldvalue:""}},r=a.state.form.additionalFields;!r||r.length<=0?a.setState((function(e){return{form:se({},e.form,{additionalFields:[t]})}})):r.findIndex((function(t){return e===t.id}))>-1?a.addField():a.setState((function(e){return{form:se({},e.form,{additionalFields:[].concat(Object(n.a)(e.form.additionalFields),[t])})}}))},a.addImage=function(e){if(e.persist(),e.target.files&&e.target.files[0]){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(t){var r=e.target.files[0],i=r.type,l=r.name,o=t.target.result,c=a.state.form.images,s=(c&&c.length?[].concat(Object(n.a)(c),[{name:l,type:i,url:o}]):[{name:l,type:i,url:o,isFeatured:!0}]).map((function(e,t){return{id:e.id?e.id:t.toString(),url:e.url,type:e.type,name:e.name,isFeatured:!1}}));a.setState((function(e){return{form:se({},e.form,{images:s})}}))}}},a.setFeaturedImage1=function(e){a.setState({form:j.a.set(se({},a.state.form),"featuredImageId",e)})},a.setFeaturedImage=function(e){var t=a.state.form.images;if(t&&t.length){var n=t.map((function(t,a){return t.id===e?{id:t.id,url:t.url,isFeatured:!0}:{id:t.id,url:t.url,isFeatured:!1}}));a.setState((function(t){return{form:se({},t.form,{images:n,featuredImageId:e})}}))}},a.removeField=function(e){var t=a.state.form.additionalFields.filter((function(t,a){return a!==e}));a.setState((function(e){return{form:se({},e.form,{additionalFields:t})}}))},a.renderFields=function(){var e=a.state.form.additionalFields;if(e)return e.map((function(e,t){var n="lable "+t.toString(),r="value "+t.toString(),i=e.labelField.fieldvalue||"",l=e.valueField.fieldvalue||"";return d.a.createElement("div",{className:"flex",key:t},d.a.createElement(m.cb,{className:"mt-8 mb-16 mr-8",label:n,id:n,name:n,value:i,onChange:a.handleFieldChange,variant:"outlined",fullWidth:!0}),d.a.createElement(m.cb,{className:"mt-8 mb-16 mr-8",label:r,id:r,name:r,value:l,onChange:a.handleFieldChange,variant:"outlined",fullWidth:!0}),d.a.createElement("div",{className:"flex mt-8 mb-16 mr-8"},d.a.createElement(f.a,{animation:"transition.slideRightIn",delay:300},d.a.createElement(m.c,{className:"whitespace-no-wrap",variant:"contained",onClick:function(){a.removeField(t)}},"Remove -"))))}))},a.updateProductState=function(){a.props.newProduct(a.props.user.uuid),a.props.getCats(a.state.listingType)},a.handleChangeTab=function(e,t){a.setState({tabValue:t})},a.handleFieldChange=function(e){var t=a.state.form.additionalFields,n=t.findIndex((function(t,a){return"lable "+a.toString()===e.target.name||"value "+a.toString()===e.target.name})),r=t.map((function(t,a){return n===a&&(e.target.name.indexOf("value")>-1&&(t.valueField.fieldvalue=e.target.value),e.target.name.indexOf("lable")>-1&&(t.labelField.fieldvalue=e.target.value)),t}));a.setState((function(e){return{form:se({},e.form,{additionalFields:r})}}))},a.handleChange=function(e){"listingType"===e.target.name&&a.props.getCats(e.target.value),"discount"===e.target.name&&e.target.value<5?alert("Discount can not be less than 5% \n Use arrow keys to change the discount"):"discount"===e.target.name&&e.target.value>20?alert("Discount can not be greater than 20% \n Use arrow keys to change the discount"):"price"===e.target.name&&""!==e.target.value&&e.target.value<1?alert("Price can not be less than 1 OMR"):"quantity"===e.target.name&&e.target.value<0?(e.preventDefault(),alert("Quantity should be greater than or equal to 0")):a.setState({form:j.a.set(se({},a.state.form),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value)})},a.handleChipChange=function(e,t){a.setState({form:j.a.set(se({},a.state.form),t,e.map((function(e){return e.value})))})},a.handleChipChangeCat=function(e,t){a.setState({form:j.a.set(se({},a.state.form),t,e)})},a.handleAgree=function(){a.setState({open:!1});var e=se({},a.state.form,{createdBy:a.props.user._id});a.props.saveProduct(e)},a.handleDisAgree=function(){a.setState({open:!1})},a.handleClickOpen=function(){a.setState({open:!0})},a.handleOpenTerm=function(e){e.preventDefault(),a.setState({openTerm:!0})},a.handleCloseTerm=function(){a.setState({openTerm:!1})},a.handleOpenCsv=function(e){e.preventDefault(),a.setState({openCsv:!0})},a.handleCloseCsv=function(){a.setState({openCsv:!1})},a.saveProductData=function(e){(""===e.price||e.price<=0)&&alert("Please add price"),""===e.quantity?alert("Please add quantity"):a.handleClickOpen()},a.ConfirmTerms=function(e){a.setState({isTermsChecked:e.target.checked})},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateProductState(),this.props.getCats(this.state.form.listingType)}},{key:"componentDidUpdate",value:function(e,t,a){j.a.isEqual(this.props.location,e.location)||this.updateProductState(),(this.props.product.data&&!this.state.form||this.props.product.data&&this.state.form&&this.props.product.data.id!==this.state.form.id)&&this.updateFormState(),this.state.form&&this.state.form.images,this.state.form&&!this.state.form.listingType&&this.setState((function(e){return{form:se({},e.form,{listingType:"service"})}}))}},{key:"canBeSubmitted",value:function(){return this.state.form.name.length>0&&!j.a.isEqual(this.props.product.data,this.state.form)&&this.state.isTermsChecked}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.tabValue,r=a.form;return d.a.createElement(f.m,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r&&d.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},d.a.createElement("div",{className:"flex flex-col items-start max-w-full"},d.a.createElement(f.a,{animation:"transition.slideRightIn",delay:300},d.a.createElement(m.fb,{className:"normal-case flex items-center sm:mb-12",component:E.a,role:"button",to:"/apps/products"},d.a.createElement(m.u,{className:"mr-4 text-20"},"arrow_back"),"My Listings")),d.a.createElement(K.a,{open:this.state.openTerm,onClose:this.handleCloseTerm}),d.a.createElement(oe,{open:this.state.openCsv,onClose:this.handleCloseCsv}),d.a.createElement(_.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},d.a.createElement(Y.a,{id:"alert-dialog-title"},"Terms and Conditions"),d.a.createElement(X.a,null,d.a.createElement(J.a,{id:"alert-dialog-description"},"This posting will be listed online, Please confirm to proceed")),d.a.createElement(z.a,null,d.a.createElement(m.c,{onClick:this.handleDisAgree,variant:"contained",color:"primary"},"Disagree"),d.a.createElement(m.c,{onClick:this.handleAgree,variant:"contained",color:"primary",autoFocus:!0},"Agree"))),d.a.createElement("div",{className:"flex items-center max-w-full"},d.a.createElement("div",{className:"flex flex-col min-w-0"},d.a.createElement(f.a,{animation:"transition.slideLeftIn",delay:300},d.a.createElement(m.fb,{className:"text-16 sm:text-20 truncate"},r.name?r.name:"New Listing")),d.a.createElement(f.a,{animation:"transition.slideLeftIn",delay:300},d.a.createElement(m.fb,{variant:"caption"},"Listing Detail"))))),d.a.createElement("div",null,d.a.createElement(m.f,{disableRipple:!0,color:"default",onChange:function(t){e.ConfirmTerms(t)}}),d.a.createElement("span",{style:{paddingRight:"15px"}}," Please accept ",d.a.createElement(E.a,{to:"",onClick:function(t){e.handleOpenTerm(t)}},"Terms & Conditions")),d.a.createElement(f.a,{animation:"transition.slideRightIn",delay:300},d.a.createElement(m.c,{className:"whitespace-no-wrap",variant:"contained",disabled:!this.canBeSubmitted(),onClick:function(){e.saveProductData(r)}},"Save")),d.a.createElement(m.eb,{title:"Upload CSV"},d.a.createElement(m.v,{onClick:this.handleOpenCsv,"aria-label":"delete",size:"small"},d.a.createElement(g.a,{fontSize:"inherit"}))),d.a.createElement("a",{href:"assets/smecsv.csv",download:!0},d.a.createElement(m.eb,{title:"Download CSV"},d.a.createElement(m.v,{"aria-label":"delete",size:"small"},d.a.createElement(b.a,{fontSize:"inherit"})))))),contentToolbar:d.a.createElement(m.bb,{value:n,onChange:this.handleChangeTab,indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},d.a.createElement(m.T,{className:"h-64 normal-case",label:"Basic Info"}),d.a.createElement(m.T,{className:"h-64 normal-case",label:"Product Images"}),d.a.createElement(m.T,{className:"h-64 normal-case",label:"Pricing"}),d.a.createElement(m.T,{className:"h-64 normal-case",label:"Inventory"}),d.a.createElement(m.T,{className:"h-64 normal-case",label:"Shipping"}),d.a.createElement(m.T,{className:"h-64 normal-case",label:"Additional Fields"})),content:r&&d.a.createElement("div",{className:"p-16 sm:p-24 max-w-2xl"},0===n&&d.a.createElement("div",null,d.a.createElement(U.a,{component:"fieldset"},d.a.createElement(W.a,{component:"legend"},"Listing Type"),d.a.createElement(I.a,{"aria-label":"listing Type",name:"listingType",value:r.listingType,onChange:function(t){return e.handleChange(t)}},d.a.createElement(R.a,{value:"service",control:d.a.createElement(x.a,null),label:"Service"}),d.a.createElement(R.a,{value:"product",control:d.a.createElement(x.a,null),label:"Product"}))),d.a.createElement(m.cb,{className:"mt-8 mb-16",error:""===r.name,required:!0,label:"Name",autoFocus:!0,id:"name",name:"name",value:r.name,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),d.a.createElement(m.cb,{className:"mt-8 mb-16",id:"description",name:"description",onChange:this.handleChange,label:"Description",type:"text",value:r.description,multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),d.a.createElement(f.d,{className:"mt-8 mb-24",value:r.categories.map((function(e,t){return{value:e,label:e}})),onChange:function(t){return e.handleChipChange(t,"categories")},placeholder:"Select multiple categories",textFieldProps:{label:"Categories",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0,options:this.props.product.categories}),d.a.createElement(f.d,{className:"mt-8 mb-16",value:r.tags.map((function(e){return{value:e,label:e}})),onChange:function(t){return e.handleChipChange(t,"tags")},placeholder:"Select multiple tags",textFieldProps:{label:"Tags",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0})),1===n&&d.a.createElement("div",null,d.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap"},d.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file",multiple:!0,type:"file",hidden:!0,onChange:function(t){e.addImage(t)}}),d.a.createElement("label",{htmlFor:"contained-button-file"},d.a.createElement(q.a,{variant:"contained",component:"span",className:t.button},"Upload")),r.images.map((function(a){return d.a.createElement("div",{onClick:function(){return e.setFeaturedImage(a.id)},className:T()(t.productImageItem,"flex items-center justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden cursor-pointer",a.isFeatured&&"featured"),key:a.id},d.a.createElement(m.u,{className:t.productImageFeaturedStar},"star"),d.a.createElement("img",{className:"max-w-none w-auto h-full",src:a.url,alt:"product"}))})))),2===n&&d.a.createElement("div",null,d.a.createElement(m.cb,{className:"mt-8 mb-16",label:"Price",id:"price",name:"price",value:r.price,onChange:this.handleChange,InputProps:{startAdornment:d.a.createElement(m.x,{position:"start"},"OMR")},type:"number",variant:"outlined",autoFocus:!0,fullWidth:!0}),d.a.createElement(m.cb,{className:"mt-8 mb-16",label:"Discount",id:"discount",name:"discount",value:r.discount,onChange:this.handleChange,InputProps:{startAdornment:d.a.createElement(m.x,{position:"start"},"%")},type:"number",variant:"outlined",fullWidth:!0})),3===n&&d.a.createElement("div",null,d.a.createElement(m.cb,{className:"mt-8 mb-16",label:"SKU",autoFocus:!0,id:"sku",name:"sku",value:r.sku,onChange:this.handleChange,variant:"outlined",hidden:!0,fullWidth:!0}),d.a.createElement(m.cb,{className:"mt-8 mb-16",label:"Quantity",id:"quantity",name:"quantity",value:r.quantity,onChange:this.handleChange,variant:"outlined",type:"number",fullWidth:!0})),4===n&&d.a.createElement("div",null,d.a.createElement("div",{className:"flex"},d.a.createElement(m.cb,{className:"mt-8 mb-16 mr-8",label:"Width",autoFocus:!0,id:"width",name:"width",value:r.width,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),d.a.createElement(m.cb,{className:"mt-8 mb-16 mr-8",label:"Height",id:"height",name:"height",value:r.height,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),d.a.createElement(m.cb,{className:"mt-8 mb-16 mr-8",label:"Depth",id:"depth",name:"depth",value:r.depth,onChange:this.handleChange,variant:"outlined",fullWidth:!0})),d.a.createElement(m.cb,{className:"mt-8 mb-16",label:"Weight",id:"weight",name:"weight",value:r.weight,onChange:this.handleChange,variant:"outlined",fullWidth:!0})),5===n&&d.a.createElement("div",null,this.renderFields(),d.a.createElement(f.a,{animation:"transition.slideRightIn",delay:300},d.a.createElement("div",{style:{"margin-bottom":10}},d.a.createElement(m.c,{className:"whitespace-no-wrap",variant:"contained",onClick:function(){e.addField()}},"Add +"))))),innerScroll:!0})}}]),t}(u.Component);t.default=Object(w.a)("ProductsApp",D.a)(Object(p.withStyles)((function(e){return{productImageFeaturedStar:{position:"absolute",top:0,right:0,color:y.orange[400],opacity:0},productImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{boxShadow:e.shadows[5],"& $productImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $productImageFeaturedStar":{opacity:1},"&:hover $productImageFeaturedStar":{opacity:1}}}}}),{withTheme:!0})(Object(O.g)(Object(P.a)((function(e){var t=e.ProductsApp,a=e.auth;return{product:t.product,user:a.user,categories:t.categories}}),(function(e){return Object(C.c)({newProduct:F.p,saveProduct:F.r,getCats:F.m},e)}))(ue))))}}]);