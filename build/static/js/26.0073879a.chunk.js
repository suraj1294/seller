(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[26],{1461:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(11),l=a(12),s=a(15),i=a(14),o=a(16),c=a(0),m=a.n(c),d=a(76),u=a.n(d),p=a(10),b=a(2),h=a(17),g=a(78),f=a(30),v=a(40),E=a(177),y=a.n(E),x=a(205),N=a.n(x),w=a(176),C=a.n(w),L=a(174),O=a.n(L),S=a(175),A=a.n(S),D=a(206),j=a.n(D),P=a(22),I=a(273),k=a(394),U=a(1424),M=a.n(U);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){var t=e.text;return m.a.createElement(b.eb,{title:t,placement:"top"},m.a.createElement(b.u,{className:"text-red"},"place"))}var B=function(e){function t(){var e,a;Object(r.a)(this,t);for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={canSubmit:!1,Language:"english",tabValue:0,form:null,registrationDate:"",address1:"",address2:"",website:"",companyprofile:"",defaultLocation:{lat:23.588,lng:58.3829},addressLocation:{lat:23.588,lng:58.3829},userAddressChanged:!1},a.form=m.a.createRef(),a.disableButton=function(){a.setState({canSubmit:!1})},a.enableButton=function(){a.setState({canSubmit:!0})},a.handleChange=function(e){a.setState({Language:e.target.value})},a.handleChangeDate=function(e){a.setState({registrationDate:e.target.value})},a.handleFieldChange=function(e){a.setState(Object(n.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.Language=a.state.Language,e._id=a.props.match.params.smecatId,e.registrationDate=a.state.registrationDate?a.state.registrationDate:a.props.register.user.registrationDate,e.userType="sme",a.state.userAddressChanged&&(e.locationX=a.state.addressLocation.lat,e.locationY=a.state.addressLocation.lng),a.props.updateSmeUser(e)},a.onClickMapHandle=function(e){e.x,e.y;var t=e.lat,n=e.lng;e.event;a.setState({addressLocation:{lat:t,lng:n},userAddressChanged:!0})},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.getSmeUser(e)}},{key:"componentDidUpdate",value:function(e,t){return this.props.register.error&&(this.props.register.error.username||this.props.register.error.password||this.props.register.error.email)&&(this.form.updateInputsWithError(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.props.register.error)),this.props.register.error=null,this.disableButton()),null}},{key:"render",value:function(){var e=this,t=this.state.canSubmit,a=this.state,n=a.Language,r=a.userAddressChanged,l=this.state.tabValue,s=this.props.register.user,i=this.props.UserInfo;if(s)new Date(s.registrationDate);return m.a.createElement(p.m,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:m.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},m.a.createElement("div",{className:"flex flex-col items-start max-w-full"},m.a.createElement(p.a,{animation:"transition.slideRightIn",delay:300},m.a.createElement(b.fb,{className:"normal-case flex items-center sm:mb-12",component:P.a,role:"button",to:"/pages/profile"},m.a.createElement(b.u,{className:"mr-4 text-20"},"arrow_back"),"My profile")),m.a.createElement("div",{className:"flex items-center max-w-full"},m.a.createElement("div",{className:"flex flex-col min-w-0"},m.a.createElement(p.a,{animation:"transition.slideLeftIn",delay:300},m.a.createElement(b.fb,{className:"text-16 sm:text-20 truncate"},"Edit Profile")),m.a.createElement(p.a,{animation:"transition.slideLeftIn",delay:300},m.a.createElement(b.fb,{variant:"caption"},"Profile Detail")))))),contentToolbar:m.a.createElement(b.bb,{value:l,onChange:this.handleChangeTab,indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},m.a.createElement(b.T,{className:"h-64 normal-case",label:"Basic Info"})),content:m.a.createElement("div",{className:"p-16 sm:p-24 max-w-2xl",style:{textAlign:"center",width:"70%",margin:"auto"}},0===l&&s&&m.a.createElement(u.a,{onValidSubmit:this.onSubmit,onValid:this.enableButton,onInvalid:this.disableButton,ref:function(t){return e.form=t},className:"flex flex-col justify-center w-full"},m.a.createElement(p.w,{className:"mb-16",type:"text",name:"userName",label:"Username",value:s.userName,validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"person"))},variant:"outlined",required:!0,readonly:!0,disabled:!0}),m.a.createElement(p.w,{className:"mb-16",type:"text",name:"email",label:"Email",value:s.email,validations:"isEmail",validationErrors:{isEmail:"Please enter a valid email"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"email"))},variant:"outlined",required:!0,disabled:!0}),m.a.createElement(p.w,{className:"mb-16",type:"text",name:"smeName",label:"Commercial Registration Name",value:s.smeName,validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"person"))},variant:"outlined",required:!0,disabled:!0,hidden:!0}),m.a.createElement(p.w,{className:"mb-16",type:"text",name:"cr",label:"Commercial Registration Number",value:s.cr,validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"person"))},variant:"outlined",disabled:!0,hidden:!0}),m.a.createElement(j.a,{id:"registrationDate",label:"Commercial Registration Date",type:"date",name:"registrationDate",onChange:function(t){return e.handleChangeDate(t)},defaultValue:s.registrationDate?s.registrationDate.split("T")[0]:"2017-05-17",InputLabelProps:{shrink:!0},disabled:!0,hidden:!0}),m.a.createElement("br",null),m.a.createElement(p.w,{className:"mb-16",type:"text",name:"oabCustomerNumber",label:"OAB Account Number",value:s.oabCustomerNumber,validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"person"))},variant:"outlined",disabled:!0,hidden:!0}),m.a.createElement(O.a,{component:"fieldset"},m.a.createElement(A.a,{component:"legend"},"Language"),m.a.createElement(N.a,{"aria-label":"gender",name:"gender1",value:n,onChange:function(t){return e.handleChange(t)}},m.a.createElement(C.a,{value:"english",control:m.a.createElement(y.a,null),label:"English"}),m.a.createElement(C.a,{value:"arabic",control:m.a.createElement(y.a,null),label:"Arabic"}))),m.a.createElement(p.w,{className:"mb-16",type:"text",name:"mobile",label:"Mobile",value:s.mobile,validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"person"))},variant:"outlined",disabled:!0}),i&&"sme"===i.role&&m.a.createElement("div",{style:{display:"contents"}},m.a.createElement(p.w,{className:"mb-16",placeholder:"Address 1",multiline:!0,name:"address1",label:"Address 1",value:s.address1,variant:"outlined"}),m.a.createElement(p.w,{className:"mb-16",placeholder:"Address 1",multiline:!0,name:"address2",label:"Address 2",value:s.address2,variant:"outlined"}),m.a.createElement(p.w,{className:"mb-16",placeholder:"Address 1",type:"text",name:"city",label:"City",value:s.city,variant:"outlined"}),m.a.createElement(p.w,{className:"mb-16",type:"text",name:"postCode",label:"Post Code",value:s.postCode,variant:"outlined"}),m.a.createElement(p.w,{className:"mb-16",placeholder:"Website",multiline:!0,name:"website",label:"Website",value:s.website,variant:"outlined"}),m.a.createElement(p.w,{className:"mb-16",placeholder:"Company Profile",multiline:!0,name:"companyprofile",label:"Company Profile",value:s.companyprofile,variant:"outlined"}),m.a.createElement("div",{className:"w-full"},m.a.createElement(b.fb,{className:"h2 mb-16"},"Select Address On Map"),m.a.createElement("div",{className:"w-full h-512"},r?m.a.createElement(M.a,{bootstrapURLKeys:{key:"AIzaSyDqtvJeZ4Qok8vZ61cYYUUb0sgnFMZZz-Q"},defaultZoom:12,defaultCenter:this.state.defaultLocation,onClick:this.onClickMapHandle},m.a.createElement(Z,{text:"Selected Location is the adderess of seller",lat:this.state.addressLocation.lat,lng:this.state.addressLocation.lng})):m.a.createElement(M.a,{bootstrapURLKeys:{key:"AIzaSyDqtvJeZ4Qok8vZ61cYYUUb0sgnFMZZz-Q"},defaultZoom:12,defaultCenter:s.locationX?{lat:s.locationX,lng:s.locationY}:this.state.defaultLocation,onClick:this.onClickMapHandle},m.a.createElement(Z,{text:"Selected Location is the adderess of seller",lat:s.locationX?s.locationX:this.state.addressLocation.lat,lng:s.locationY?s.locationY:this.state.addressLocation.lng}))))),m.a.createElement(b.c,{type:"submit",variant:"contained",color:"primary",className:"w-full mx-auto mt-16 normal-case","aria-label":"REGISTER",disabled:!t,value:"legacy"},"Update User"))),innerScroll:!0})}}]),t}(c.Component);t.default=Object(k.a)("RegisterApp",I.a)(Object(g.g)(Object(f.a)((function(e){var t=e.auth,a=e.RegisterApp;return{register:t.register,user:a.user,UserInfo:t.user}}),(function(e){return Object(h.c)({getSmeUser:v.i,updateSmeUser:v.o},e)}))(B)))}}]);