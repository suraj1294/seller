(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[18],{1456:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(11),i=a(12),l=a(15),s=a(14),o=a(16),c=a(0),m=a.n(c),u=a(76),p=a.n(u),d=a(10),b=a(2),g=a(17),h=a(78),f=a(30),E=a(40),v=a(177),x=a.n(v),y=a(205),N=a.n(y),w=a(176),O=a.n(w),D=a(174),j=a.n(D),S=a(175),L=a.n(S),C=a(206),P=a.n(C),I=a(22),A=a(273),R=a(394);a(6);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var B=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={canSubmit:!1,Language:"english",tabValue:0,form:null,registrationDate:""},a.form=m.a.createRef(),a.disableButton=function(){a.setState({canSubmit:!1})},a.enableButton=function(){a.setState({canSubmit:!0})},a.handleChange=function(e){a.setState({Language:e.target.value})},a.handleChangeDate=function(e){a.setState({registrationDate:e.target.value})},a.onSubmit=function(e){e.Language=a.state.Language,e._id=a.props.match.params.smecatId,e.registrationDate=a.state.registrationDate?a.state.registrationDate:a.props.register.user.registrationDate,e.userType="sme",a.props.updateSmeUser(e)},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.getSmeUser(e)}},{key:"componentDidUpdate",value:function(e,t){return this.props.register.error&&(this.props.register.error.username||this.props.register.error.password||this.props.register.error.email)&&(this.form.updateInputsWithError(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.props.register.error)),this.props.register.error=null,this.disableButton()),null}},{key:"render",value:function(){var e=this,t=this.state.canSubmit,a=this.state.Language,n=this.state.tabValue,r=this.props.register.user;if(r)new Date(r.registrationDate);return m.a.createElement(d.m,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:m.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},m.a.createElement("div",{className:"flex flex-col items-start max-w-full"},m.a.createElement(d.a,{animation:"transition.slideRightIn",delay:300},m.a.createElement(b.fb,{className:"normal-case flex items-center sm:mb-12",component:I.a,role:"button",to:"/apps/smes"},m.a.createElement(b.u,{className:"mr-4 text-20"},"arrow_back"),"Registrations")),m.a.createElement("div",{className:"flex items-center max-w-full"},m.a.createElement("div",{className:"flex flex-col min-w-0"},m.a.createElement(d.a,{animation:"transition.slideLeftIn",delay:300},m.a.createElement(b.fb,{className:"text-16 sm:text-20 truncate"},"Edit Registrations")),m.a.createElement(d.a,{animation:"transition.slideLeftIn",delay:300},m.a.createElement(b.fb,{variant:"caption"},"SME Detail")))))),contentToolbar:m.a.createElement(b.bb,{value:n,onChange:this.handleChangeTab,indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},m.a.createElement(b.T,{className:"h-64 normal-case",label:"Basic Info"})),content:m.a.createElement("div",{className:"p-16 sm:p-24 max-w-2xl",style:{width:"50%"}},0===n&&r&&m.a.createElement(p.a,{onValidSubmit:this.onSubmit,onValid:this.enableButton,onInvalid:this.disableButton,ref:function(t){return e.form=t},className:"flex flex-col justify-center w-full"},m.a.createElement(d.w,{className:"mb-16",type:"text",name:"userName",label:"Username",value:r.userName,validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"person"))},variant:"outlined",required:!0}),m.a.createElement(d.w,{className:"mb-16",type:"text",name:"email",label:"Email",value:r.email,validations:"isEmail",validationErrors:{isEmail:"Please enter a valid email"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"email"))},variant:"outlined",required:!0}),m.a.createElement(d.w,{className:"mb-16",type:"text",name:"smeName",label:"Commercial Registration Name",value:r.smeName,validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"person"))},variant:"outlined",required:!0}),m.a.createElement(d.w,{className:"mb-16",type:"text",name:"cr",label:"Commercial Registration Number",value:r.cr,validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"person"))},variant:"outlined"}),m.a.createElement(P.a,{id:"registrationDate",label:"Commercial Registration Date",type:"date",name:"registrationDate",onChange:function(t){return e.handleChangeDate(t)},defaultValue:r.registrationDate?r.registrationDate.split("T")[0]:"",InputLabelProps:{shrink:!0}}),m.a.createElement("br",null),m.a.createElement(d.w,{className:"mb-16",type:"text",name:"oabCustomerNumber",label:"OAB Account Number",value:r.oabCustomerNumber,validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"person"))},variant:"outlined"}),m.a.createElement(j.a,{component:"fieldset"},m.a.createElement(L.a,{component:"legend"},"Language"),m.a.createElement(N.a,{"aria-label":"gender",name:"gender1",value:a,onChange:function(t){return e.handleChange(t)}},m.a.createElement(O.a,{value:"english",control:m.a.createElement(x.a,null),label:"English"}),m.a.createElement(O.a,{value:"arabic",control:m.a.createElement(x.a,null),label:"Arabic"}))),m.a.createElement(d.w,{className:"mb-16",type:"text",name:"mobile",label:"Mobile",value:r.mobile,validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{endAdornment:m.a.createElement(b.x,{position:"end"},m.a.createElement(b.u,{className:"text-20",color:"action"},"person"))},variant:"outlined"}),m.a.createElement(b.c,{type:"submit",variant:"contained",color:"primary",className:"w-full mx-auto mt-16 normal-case","aria-label":"REGISTER",disabled:!t,value:"legacy"},"Update User"))),innerScroll:!0})}}]),t}(c.Component);t.default=Object(R.a)("RegisterApp",A.a)(Object(h.g)(Object(f.a)((function(e){var t=e.auth,a=e.RegisterApp;return{register:t.register,user:a.user}}),(function(e){return Object(g.c)({getSmeUser:E.i,updateSmeUser:E.o},e)}))(B)))}}]);